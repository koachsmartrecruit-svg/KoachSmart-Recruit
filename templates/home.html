{% extends "base.html" %}

{% block content %}

<section class="hero-clean">
  <div class="container hero-clean-grid">
    
    <div class="hero-clean-copy">
      <div class="badge-pill">AI for Sports Careers</div>

      <h1 class="hero-clean-title">
        Find Your <span class="highlight-blue">Dream Coaching Job</span><br>
        with AI-powered matching.
      </h1>

      <p class="hero-clean-subtitle">
        KoachSmart connects verified coaches with top academies and sports organizations.
        Get matched with opportunities that fit your skills, location, and career goals.
      </p>

      <div class="hero-clean-cta-row">
        {% if not current_user.is_authenticated %}
          <a href="{{ url_for('auth.register') }}" class="btn btn-primary btn-lg hero-primary-cta">
            <i class="fas fa-rocket me-2"></i> Get Started
          </a>
          <a href="#how-it-works" class="btn btn-outline-secondary btn-lg hero-secondary-cta">
            Learn More
          </a>
        {% else %}
          <a href="{{ url_for('coach.dashboard') }}" class="btn btn-primary btn-lg hero-primary-cta">
            Go to Dashboard
          </a>
        {% endif %}
      </div>

      <div class="hero-clean-meta">
        <span>âœ“ Verified Opportunities</span>
        <span>âš¡ AI Job Matching</span>
        <span>ðŸ”’ Secure Applications</span>
      </div>
    </div>

    <div class="hero-clean-visual">
      <div class="hero-lottie-wrapper">
        <lottie-player
          src="https://lottie.host/e222d575-0e39-4628-8e3c-498cc5901b9b/jSq2nF8L6G.json"
          background="transparent"
          speed="1"
          loop
          autoplay
        ></lottie-player>
      </div>

      <div class="hero-kpi-row">
        <div class="hero-kpi">
          <span class="kpi-label">Active Job Openings</span>
          <span class="kpi-value">500+</span>
        </div>
        <div class="hero-kpi">
          <span class="kpi-label">Avg. Time to Get Hired</span>
          <span class="kpi-value">7 days</span>
        </div>
        <div class="hero-kpi">
          <span class="kpi-label">Match Success Rate</span>
          <span class="kpi-value">92%</span>
        </div>
      </div>
    </div>

  </div>
</section>

<section class="segment-section py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5 glide-up">
            <h2 class="section-title">Start Your Journey</h2>
            <p class="section-subtitle">Choose how you want to grow your sports career</p>
        </div>
        <div class="row g-4">
            <div class="col-md-6">
                <div class="segment-card glide-up" style="transition-delay: 0.1s;">
                    <div class="segment-icon"><i class="fas fa-user-tie"></i></div>
                    <h3>I'm a Coach</h3>
                    <p>Find your next coaching opportunity with top academies.</p>
                    <ul class="feature-list mb-4">
                        <li>Get verified with trust badge</li>
                        <li>Access 500+ job opportunities</li>
                        <li>AI-powered job matching</li>
                        <li>Direct chat with recruiters</li>
                    </ul>
                    {% if not current_user.is_authenticated %}
                        <a href="{{ url_for('auth.register') }}?role=coach" class="btn btn-primary w-100 btn-biometric">Start My Career</a>
                    {% else %}
                        <a href="{{ url_for('coach.dashboard') }}" class="btn btn-primary w-100 btn-biometric">View Jobs</a>
                    {% endif %}
                </div>
            </div>
            <div class="col-md-6">
                <div class="segment-card glide-up" style="transition-delay: 0.2s;">
                    <div class="segment-icon" style="background: linear-gradient(135deg, var(--accent-orange), #dc2626);"><i class="fas fa-building"></i></div>
                    <h3>I'm Hiring Coaches</h3>
                    <p>Find and hire verified coaching talent instantly.</p>
                    <ul class="feature-list mb-4">
                        <li>Access verified coach database</li>
                        <li>AI-powered candidate matching</li>
                        <li>Post unlimited job openings</li>
                    </ul>
                    {% if not current_user.is_authenticated %}
                        <a href="{{ url_for('employer.register') }}" class="btn btn-primary w-100 btn-biometric" style="background: var(--accent-orange);">Post Jobs</a>
                    {% else %}
                        <a href="{{ url_for('employer.dashboard') }}" class="btn btn-primary w-100 btn-biometric" style="background: var(--accent-orange);">View Dashboard</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<section class="how-it-works py-5" id="how-it-works">
    <div class="container">
        <div class="text-center mb-4 glide-up">
            <h2 class="section-title">How It Works for Coaches</h2>
            <p class="section-subtitle">Your path to the perfect coaching job (Hover cards to flip)</p>
        </div>

        <div class="d-flex justify-content-center mb-5 glide-up" style="transition-delay: 0.1s;">
            <div class="glass-card p-1 d-inline-flex rounded-pill" style="border: 1px solid var(--border-color); background: white;">
                <button class="btn btn-primary rounded-pill px-4 py-2 shadow-sm" id="btn-coach" onclick="toggleSteps('coach')">For Coaches</button>
                <button class="btn btn-outline-dark border-0 rounded-pill px-4 py-2 text-muted" id="btn-academy" onclick="toggleSteps('academy')">For Recruiters</button>
            </div>
        </div>

        <div id="coach-steps" class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="flip-card-wrapper glide-up" style="transition-delay: 0.1s;">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="step-number mb-3">1</div>
                            <h4>Create Profile</h4>
                            <i class="fas fa-user-plus text-primary fs-2 mt-3"></i>
                        </div>
                        <div class="flip-card-back">
                            <h4>Build Your Profile</h4>
                            <p class="small">Create your professional coaching profile in minutes. Add your certifications, experience, and sports specializations.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="flip-card-wrapper glide-up" style="transition-delay: 0.2s;">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="step-number mb-3">2</div>
                            <h4>Add Experience</h4>
                            <i class="fas fa-list-alt text-primary fs-2 mt-3"></i>
                        </div>
                        <div class="flip-card-back">
                            <h4>Stand Out</h4>
                            <p class="small">Showcase your coaching achievements, certifications, and success stories to attract top academies.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="flip-card-wrapper glide-up" style="transition-delay: 0.3s;">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="step-number mb-3">3</div>
                            <h4>Get Verified</h4>
                            <i class="fas fa-shield-alt text-primary fs-2 mt-3"></i>
                        </div>
                        <div class="flip-card-back">
                            <h4>Build Trust</h4>
                            <p class="small">Get verified with our trust badge system. Upload documents and build credibility with potential employers.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="flip-card-wrapper glide-up" style="transition-delay: 0.4s;">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="step-number mb-3">4</div>
                            <h4>Get Hired</h4>
                            <i class="fas fa-handshake text-primary fs-2 mt-3"></i>
                        </div>
                        <div class="flip-card-back">
                            <h4>Land Your Dream Job</h4>
                            <p class="small">Browse opportunities, get matched with perfect roles, and connect directly with hiring managers.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="academy-steps" class="row g-4" style="display: none;">
            <div class="col-lg-3 col-md-6">
                <div class="flip-card-wrapper glide-up">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="step-number mb-3" style="background: var(--accent-orange);">1</div>
                            <h4>Post Jobs</h4>
                            <i class="fas fa-file-upload text-warning fs-2 mt-3"></i>
                        </div>
                        <div class="flip-card-back" style="background: linear-gradient(135deg, var(--accent-orange), #ea580c);">
                            <h4>Quick Setup</h4>
                            <p class="small">Post job requirements quickly with our AI-powered job description builder.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="flip-card-wrapper glide-up" style="transition-delay: 0.1s;">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="step-number mb-3" style="background: var(--accent-orange);">2</div>
                            <h4>Get Matches</h4>
                            <i class="fas fa-filter text-warning fs-2 mt-3"></i>
                        </div>
                        <div class="flip-card-back" style="background: linear-gradient(135deg, var(--accent-orange), #ea580c);">
                            <h4>AI Screening</h4>
                            <p class="small">Our AI automatically matches and ranks the best coaches for your specific requirements.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="flip-card-wrapper glide-up" style="transition-delay: 0.2s;">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="step-number mb-3" style="background: var(--accent-orange);">3</div>
                            <h4>Review Talent</h4>
                            <i class="fas fa-search text-warning fs-2 mt-3"></i>
                        </div>
                        <div class="flip-card-back" style="background: linear-gradient(135deg, var(--accent-orange), #ea580c);">
                            <h4>Verified Profiles</h4>
                            <p class="small">Review detailed, verified coach profiles with certifications and background checks.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="flip-card-wrapper glide-up" style="transition-delay: 0.3s;">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="step-number mb-3" style="background: var(--accent-orange);">4</div>
                            <h4>Hire Fast</h4>
                            <i class="fas fa-user-check text-warning fs-2 mt-3"></i>
                        </div>
                        <div class="flip-card-back" style="background: linear-gradient(135deg, var(--accent-orange), #ea580c);">
                            <h4>Quick Onboarding</h4>
                            <p class="small">Interview, select, and onboard your chosen coaches with our streamlined process.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>
<section class="mini-parallax">
  <div class="mini-parallax-inner">
    <h2 class="parallax-heading">Your Coaching Career Starts Here</h2>
    <p class="parallax-sub">AI-powered job matching built for sports professionals.</p>
  </div>
</section>
<section class="testimonials-section py-5">
    <div class="container">
        <div class="text-center mb-5 glide-up">
            <h2 class="section-title">Success Stories</h2>
            <p class="section-subtitle">Real coaches, real career transformations</p>
        </div>
        <div class="row g-4">
            <div class="col-lg-4 col-md-6 glide-up" style="transition-delay: 0.1s;">
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <div class="testimonial-photo"><i class="fas fa-user"></i></div>
                        <div class="testimonial-info">
                            <h5>Rajesh Kumar</h5>
                            <p>Cricket Coach â€¢ Mumbai</p>
                        </div>
                    </div>
                    <p class="testimonial-text">"KoachSmart helped me find my dream job in just 2 weeks! The verified profile feature made all the difference - academies trusted me instantly."</p>
                    <div class="testimonial-rating">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 glide-up" style="transition-delay: 0.2s;">
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <div class="testimonial-photo" style="background: linear-gradient(135deg, var(--accent-orange), #dc2626);"><i class="fas fa-user"></i></div>
                        <div class="testimonial-info">
                            <h5>Priya Sharma</h5>
                            <p>Badminton Coach â€¢ Bangalore</p>
                        </div>
                    </div>
                    <p class="testimonial-text">"The AI matching is incredible! I got connected with 3 perfect opportunities that matched my skills and location preferences exactly."</p>
                    <div class="testimonial-rating">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 glide-up" style="transition-delay: 0.3s;">
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <div class="testimonial-photo" style="background: linear-gradient(135deg, var(--accent-green), #059669);"><i class="fas fa-building"></i></div>
                        <div class="testimonial-info">
                            <h5>Elite Sports Academy</h5>
                            <p>Delhi NCR</p>
                        </div>
                    </div>
                    <p class="testimonial-text">"KoachSmarT's AI matching saved us weeks of screening. We hired 3 excellent coaches in a month!"</p>
                    <div class="testimonial-rating">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<section class="tech-section py-5 bg-white">
    <div class="container">
        <div class="text-center mb-5 glide-up">
            <h2 class="section-title">Why Coaches Choose KoachSmart</h2>
            <p class="section-subtitle">Built with cutting-edge technology for your success</p>
        </div>
        <div class="row g-4">
            <div class="col-lg-3 col-md-6 glide-up" style="transition-delay: 0.1s;">
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-brain"></i></div>
                    <h4>Smart Job Matching</h4>
                    <p>AI algorithms find opportunities that perfectly match your skills, experience, and preferences</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 glide-up" style="transition-delay: 0.2s;">
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-sliders-h"></i></div>
                    <h4>Personalized Search</h4>
                    <p>Filter opportunities by sport, location, salary, and career level to find your perfect fit</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 glide-up" style="transition-delay: 0.3s;">
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-shield-alt"></i></div>
                    <h4>Verified Profile</h4>
                    <p>Build trust with employers through our comprehensive verification and background check system</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 glide-up" style="transition-delay: 0.4s;">
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-bolt"></i></div>
                    <h4>Direct Connect</h4>
                    <p>Chat directly with hiring managers and schedule interviews without middlemen</p>
                </div>
            </div>
        </div>
    </div>
</section>

{% if not current_user.is_authenticated %}
<section class="cta-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center glide-up">
                <h2 class="fade-in">Ready to Advance Your Coaching Career?</h2>
                <p class="fade-in-delay-1">Join thousands of coaches who've found their dream jobs through KoachSmart</p>
                <div class="fade-in-delay-2 mt-4">
                    <a href="{{ url_for('auth.register') }}" class="btn btn-white btn-lg btn-icon me-3 btn-biometric">
                        <i class="fas fa-rocket text-primary"></i> Start My Journey
                    </a>
                    <a href="{{ url_for('auth.login') }}" class="btn btn-white btn-lg btn-icon me-3" style="background: rgba(255, 255, 255, 0.1); color: white; border-color: white;">
                        Sign In
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<script>
    // 1. Glide Reveal Observer
    document.addEventListener("DOMContentLoaded", function() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.glide-up').forEach((el) => observer.observe(el));
    });

    // 2. Toggle Steps Logic (Fixed)
    function toggleSteps(role) {
        const coachSteps = document.getElementById('coach-steps');
        const academySteps = document.getElementById('academy-steps');
        const btnCoach = document.getElementById('btn-coach');
        const btnAcademy = document.getElementById('btn-academy');

        if (role === 'coach') {
            coachSteps.style.display = 'flex';
            academySteps.style.display = 'none';
            
            btnCoach.classList.add('btn-primary', 'shadow-sm');
            btnCoach.classList.remove('btn-outline-dark', 'text-muted', 'border-0');
            
            btnAcademy.classList.remove('btn-primary', 'shadow-sm');
            btnAcademy.classList.add('btn-outline-dark', 'text-muted', 'border-0');
        } else {
            coachSteps.style.display = 'none';
            academySteps.style.display = 'flex';
            
            btnAcademy.classList.add('btn-primary', 'shadow-sm');
            btnAcademy.classList.remove('btn-outline-dark', 'text-muted', 'border-0');
            
            btnCoach.classList.remove('btn-primary', 'shadow-sm');
            btnCoach.classList.add('btn-outline-dark', 'text-muted', 'border-0');
        }
    }
    document.addEventListener("DOMContentLoaded", () => {
    const img = document.querySelector('.scroll-parallax-image');

    const revealObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
        if (entry.isIntersecting) img.classList.add('visible');
        });
    }, { threshold: 0.15 });

    revealObserver.observe(img);

    window.addEventListener('scroll', () => {
        const section = document.querySelector('.scroll-parallax');
        const rect = section.getBoundingClientRect();

        let progress = (window.innerHeight - rect.top) / (window.innerHeight + rect.height);
        progress = Math.min(Math.max(progress, 0), 1);

        const moveY = 120 - (progress * 240);
        img.style.transform = `translateY(${moveY}px)`;
    });
    });
</script>

{% endblock %}